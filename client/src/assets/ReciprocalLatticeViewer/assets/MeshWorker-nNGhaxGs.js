(function(){"use strict";var qe,Dt;function ni(){if(Dt)return qe;Dt=1;var e=new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),n=[[],[0,8,3],[0,1,9],[1,8,3,9,8,1],[1,2,10],[0,8,3,1,2,10],[9,2,10,0,2,9],[2,8,3,2,10,8,10,9,8],[3,11,2],[0,11,2,8,11,0],[1,9,0,2,3,11],[1,11,2,1,9,11,9,8,11],[3,10,1,11,10,3],[0,10,1,0,8,10,8,11,10],[3,9,0,3,11,9,11,10,9],[9,8,10,10,8,11],[4,7,8],[4,3,0,7,3,4],[0,1,9,8,4,7],[4,1,9,4,7,1,7,3,1],[1,2,10,8,4,7],[3,4,7,3,0,4,1,2,10],[9,2,10,9,0,2,8,4,7],[2,10,9,2,9,7,2,7,3,7,9,4],[8,4,7,3,11,2],[11,4,7,11,2,4,2,0,4],[9,0,1,8,4,7,2,3,11],[4,7,11,9,4,11,9,11,2,9,2,1],[3,10,1,3,11,10,7,8,4],[1,11,10,1,4,11,1,0,4,7,11,4],[4,7,8,9,0,11,9,11,10,11,0,3],[4,7,11,4,11,9,9,11,10],[9,5,4],[9,5,4,0,8,3],[0,5,4,1,5,0],[8,5,4,8,3,5,3,1,5],[1,2,10,9,5,4],[3,0,8,1,2,10,4,9,5],[5,2,10,5,4,2,4,0,2],[2,10,5,3,2,5,3,5,4,3,4,8],[9,5,4,2,3,11],[0,11,2,0,8,11,4,9,5],[0,5,4,0,1,5,2,3,11],[2,1,5,2,5,8,2,8,11,4,8,5],[10,3,11,10,1,3,9,5,4],[4,9,5,0,8,1,8,10,1,8,11,10],[5,4,0,5,0,11,5,11,10,11,0,3],[5,4,8,5,8,10,10,8,11],[9,7,8,5,7,9],[9,3,0,9,5,3,5,7,3],[0,7,8,0,1,7,1,5,7],[1,5,3,3,5,7],[9,7,8,9,5,7,10,1,2],[10,1,2,9,5,0,5,3,0,5,7,3],[8,0,2,8,2,5,8,5,7,10,5,2],[2,10,5,2,5,3,3,5,7],[7,9,5,7,8,9,3,11,2],[9,5,7,9,7,2,9,2,0,2,7,11],[2,3,11,0,1,8,1,7,8,1,5,7],[11,2,1,11,1,7,7,1,5],[9,5,8,8,5,7,10,1,3,10,3,11],[5,7,0,5,0,9,7,11,0,1,0,10,11,10,0],[11,10,0,11,0,3,10,5,0,8,0,7,5,7,0],[11,10,5,7,11,5],[10,6,5],[0,8,3,5,10,6],[9,0,1,5,10,6],[1,8,3,1,9,8,5,10,6],[1,6,5,2,6,1],[1,6,5,1,2,6,3,0,8],[9,6,5,9,0,6,0,2,6],[5,9,8,5,8,2,5,2,6,3,2,8],[2,3,11,10,6,5],[11,0,8,11,2,0,10,6,5],[0,1,9,2,3,11,5,10,6],[5,10,6,1,9,2,9,11,2,9,8,11],[6,3,11,6,5,3,5,1,3],[0,8,11,0,11,5,0,5,1,5,11,6],[3,11,6,0,3,6,0,6,5,0,5,9],[6,5,9,6,9,11,11,9,8],[5,10,6,4,7,8],[4,3,0,4,7,3,6,5,10],[1,9,0,5,10,6,8,4,7],[10,6,5,1,9,7,1,7,3,7,9,4],[6,1,2,6,5,1,4,7,8],[1,2,5,5,2,6,3,0,4,3,4,7],[8,4,7,9,0,5,0,6,5,0,2,6],[7,3,9,7,9,4,3,2,9,5,9,6,2,6,9],[3,11,2,7,8,4,10,6,5],[5,10,6,4,7,2,4,2,0,2,7,11],[0,1,9,4,7,8,2,3,11,5,10,6],[9,2,1,9,11,2,9,4,11,7,11,4,5,10,6],[8,4,7,3,11,5,3,5,1,5,11,6],[5,1,11,5,11,6,1,0,11,7,11,4,0,4,11],[0,5,9,0,6,5,0,3,6,11,6,3,8,4,7],[6,5,9,6,9,11,4,7,9,7,11,9],[10,4,9,6,4,10],[4,10,6,4,9,10,0,8,3],[10,0,1,10,6,0,6,4,0],[8,3,1,8,1,6,8,6,4,6,1,10],[1,4,9,1,2,4,2,6,4],[3,0,8,1,2,9,2,4,9,2,6,4],[0,2,4,4,2,6],[8,3,2,8,2,4,4,2,6],[10,4,9,10,6,4,11,2,3],[0,8,2,2,8,11,4,9,10,4,10,6],[3,11,2,0,1,6,0,6,4,6,1,10],[6,4,1,6,1,10,4,8,1,2,1,11,8,11,1],[9,6,4,9,3,6,9,1,3,11,6,3],[8,11,1,8,1,0,11,6,1,9,1,4,6,4,1],[3,11,6,3,6,0,0,6,4],[6,4,8,11,6,8],[7,10,6,7,8,10,8,9,10],[0,7,3,0,10,7,0,9,10,6,7,10],[10,6,7,1,10,7,1,7,8,1,8,0],[10,6,7,10,7,1,1,7,3],[1,2,6,1,6,8,1,8,9,8,6,7],[2,6,9,2,9,1,6,7,9,0,9,3,7,3,9],[7,8,0,7,0,6,6,0,2],[7,3,2,6,7,2],[2,3,11,10,6,8,10,8,9,8,6,7],[2,0,7,2,7,11,0,9,7,6,7,10,9,10,7],[1,8,0,1,7,8,1,10,7,6,7,10,2,3,11],[11,2,1,11,1,7,10,6,1,6,7,1],[8,9,6,8,6,7,9,1,6,11,6,3,1,3,6],[0,9,1,11,6,7],[7,8,0,7,0,6,3,11,0,11,6,0],[7,11,6],[7,6,11],[3,0,8,11,7,6],[0,1,9,11,7,6],[8,1,9,8,3,1,11,7,6],[10,1,2,6,11,7],[1,2,10,3,0,8,6,11,7],[2,9,0,2,10,9,6,11,7],[6,11,7,2,10,3,10,8,3,10,9,8],[7,2,3,6,2,7],[7,0,8,7,6,0,6,2,0],[2,7,6,2,3,7,0,1,9],[1,6,2,1,8,6,1,9,8,8,7,6],[10,7,6,10,1,7,1,3,7],[10,7,6,1,7,10,1,8,7,1,0,8],[0,3,7,0,7,10,0,10,9,6,10,7],[7,6,10,7,10,8,8,10,9],[6,8,4,11,8,6],[3,6,11,3,0,6,0,4,6],[8,6,11,8,4,6,9,0,1],[9,4,6,9,6,3,9,3,1,11,3,6],[6,8,4,6,11,8,2,10,1],[1,2,10,3,0,11,0,6,11,0,4,6],[4,11,8,4,6,11,0,2,9,2,10,9],[10,9,3,10,3,2,9,4,3,11,3,6,4,6,3],[8,2,3,8,4,2,4,6,2],[0,4,2,4,6,2],[1,9,0,2,3,4,2,4,6,4,3,8],[1,9,4,1,4,2,2,4,6],[8,1,3,8,6,1,8,4,6,6,10,1],[10,1,0,10,0,6,6,0,4],[4,6,3,4,3,8,6,10,3,0,3,9,10,9,3],[10,9,4,6,10,4],[4,9,5,7,6,11],[0,8,3,4,9,5,11,7,6],[5,0,1,5,4,0,7,6,11],[11,7,6,8,3,4,3,5,4,3,1,5],[9,5,4,10,1,2,7,6,11],[6,11,7,1,2,10,0,8,3,4,9,5],[7,6,11,5,4,10,4,2,10,4,0,2],[3,4,8,3,5,4,3,2,5,10,5,2,11,7,6],[7,2,3,7,6,2,5,4,9],[9,5,4,0,8,6,0,6,2,6,8,7],[3,6,2,3,7,6,1,5,0,5,4,0],[6,2,8,6,8,7,2,1,8,4,8,5,1,5,8],[9,5,4,10,1,6,1,7,6,1,3,7],[1,6,10,1,7,6,1,0,7,8,7,0,9,5,4],[4,0,10,4,10,5,0,3,10,6,10,7,3,7,10],[7,6,10,7,10,8,5,4,10,4,8,10],[6,9,5,6,11,9,11,8,9],[3,6,11,0,6,3,0,5,6,0,9,5],[0,11,8,0,5,11,0,1,5,5,6,11],[6,11,3,6,3,5,5,3,1],[1,2,10,9,5,11,9,11,8,11,5,6],[0,11,3,0,6,11,0,9,6,5,6,9,1,2,10],[11,8,5,11,5,6,8,0,5,10,5,2,0,2,5],[6,11,3,6,3,5,2,10,3,10,5,3],[5,8,9,5,2,8,5,6,2,3,8,2],[9,5,6,9,6,0,0,6,2],[1,5,8,1,8,0,5,6,8,3,8,2,6,2,8],[1,5,6,2,1,6],[1,3,6,1,6,10,3,8,6,5,6,9,8,9,6],[10,1,0,10,0,6,9,5,0,5,6,0],[0,3,8,5,6,10],[10,5,6],[11,5,10,7,5,11],[11,5,10,11,7,5,8,3,0],[5,11,7,5,10,11,1,9,0],[10,7,5,10,11,7,9,8,1,8,3,1],[11,1,2,11,7,1,7,5,1],[0,8,3,1,2,7,1,7,5,7,2,11],[9,7,5,9,2,7,9,0,2,2,11,7],[7,5,2,7,2,11,5,9,2,3,2,8,9,8,2],[2,5,10,2,3,5,3,7,5],[8,2,0,8,5,2,8,7,5,10,2,5],[9,0,1,5,10,3,5,3,7,3,10,2],[9,8,2,9,2,1,8,7,2,10,2,5,7,5,2],[1,3,5,3,7,5],[0,8,7,0,7,1,1,7,5],[9,0,3,9,3,5,5,3,7],[9,8,7,5,9,7],[5,8,4,5,10,8,10,11,8],[5,0,4,5,11,0,5,10,11,11,3,0],[0,1,9,8,4,10,8,10,11,10,4,5],[10,11,4,10,4,5,11,3,4,9,4,1,3,1,4],[2,5,1,2,8,5,2,11,8,4,5,8],[0,4,11,0,11,3,4,5,11,2,11,1,5,1,11],[0,2,5,0,5,9,2,11,5,4,5,8,11,8,5],[9,4,5,2,11,3],[2,5,10,3,5,2,3,4,5,3,8,4],[5,10,2,5,2,4,4,2,0],[3,10,2,3,5,10,3,8,5,4,5,8,0,1,9],[5,10,2,5,2,4,1,9,2,9,4,2],[8,4,5,8,5,3,3,5,1],[0,4,5,1,0,5],[8,4,5,8,5,3,9,0,5,0,3,5],[9,4,5],[4,11,7,4,9,11,9,10,11],[0,8,3,4,9,7,9,11,7,9,10,11],[1,10,11,1,11,4,1,4,0,7,4,11],[3,1,4,3,4,8,1,10,4,7,4,11,10,11,4],[4,11,7,9,11,4,9,2,11,9,1,2],[9,7,4,9,11,7,9,1,11,2,11,1,0,8,3],[11,7,4,11,4,2,2,4,0],[11,7,4,11,4,2,8,3,4,3,2,4],[2,9,10,2,7,9,2,3,7,7,4,9],[9,10,7,9,7,4,10,2,7,8,7,0,2,0,7],[3,7,10,3,10,2,7,4,10,1,10,0,4,0,10],[1,10,2,8,7,4],[4,9,1,4,1,7,7,1,3],[4,9,1,4,1,7,0,8,1,8,7,1],[4,0,3,7,4,3],[4,8,7],[9,10,8,10,11,8],[3,0,9,3,9,11,11,9,10],[0,1,10,0,10,8,8,10,11],[3,1,10,11,3,10],[1,2,11,1,11,9,9,11,8],[3,0,9,3,9,11,1,2,9,2,11,9],[0,2,11,8,0,11],[3,2,11],[2,3,8,2,8,10,10,8,9],[9,10,2,0,9,2],[2,3,8,2,8,10,0,1,8,1,10,8],[1,10,2],[1,3,8,9,1,8],[0,9,1],[0,3,8],[]],t=[[0,0,0],[1,0,0],[1,1,0],[0,1,0],[0,0,1],[1,0,1],[1,1,1],[0,1,1]],i=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]],r=new Float32Array(8),a=new Int32Array(12),o=new Float32Array(3),l=new Float32Array(3),h=new Float32Array(3),f=Date.now(),c=function(w,x,d=!1){for(var v=0,A=0,E=[],m=[],T=Date.now(),y=0;y<x.length;y++){d&&Date.now()-f>1e3&&(console.log(`marching cubes: ${y} of ${x.length} -- ${(y/x.length*100).toFixed(2)}% done`),f=Date.now());var p=x[y];l[0]=p[1][0]-p[0][0],h[0]=p[0][0],l[1]=p[1][1]-p[0][1],h[1]=p[0][1],l[2]=p[1][2]-p[0][2],h[2]=p[0][2],o[2]=0,o[1]=0,o[0]=0;for(var A=0,_=0;_<8;++_){var k=t[_],v=w(l[0]*(o[0]+k[0])+h[0],l[1]*(o[1]+k[1])+h[1],l[2]*(o[2]+k[2])+h[2]);r[_]=v,A|=v>0?1<<_:0}var b=e[A];if(b!==0){for(var _=0;_<12;++_)if((b&1<<_)!==0){a[_]=m.length;var S=[0,0,0],s=i[_],u=t[s[0]],g=t[s[1]],L=r[s[0]],Ge=r[s[1]],fe=L-Ge,le=0;Math.abs(fe)>1e-6&&(le=L/fe);for(var G=0;G<3;++G)S[G]=l[G]*(o[G]+u[G]+le*(g[G]-u[G]))+h[G];m.push(S)}for(var Ve=n[A],_=0;_<Ve.length;_+=3)E.push([a[Ve[_]],a[Ve[_+1]],a[Ve[_+2]]])}}if(d){var ti=(Date.now()-T)/1e3;console.log(`marching cubes: done after ${ti.toFixed(2)} seconds; ${(x.length/(ti+1e-5)).toFixed(2)} voxels per second`)}return{positions:m,cells:E}};return qe={marchingCubes:c},qe}var je,Rt;function ii(){if(Rt)return je;Rt=1;function e(a){var o=a[1][0]-a[0][0],l=a[1][1]-a[0][1],h=a[1][2]-a[0][2];return Math.sqrt(o*o+l*l+h*h)}function n(a){var o=a[0][0],l=a[0][1],h=a[0][2],f=a[1][0],c=a[1][1],w=a[1][2],x=f-o,d=c-l,v=w-h,A=o+x/2,E=l+d/2,m=h+v/2;return[A,E,m]}function t(a){var o=a[0][0],l=a[0][1],h=a[0][2],f=a[1][0],c=a[1][1],w=a[1][2],x=f-o,d=c-l,v=w-h,A=o+x/2,E=l+d/2,m=h+v/2,T=[[o,l,h],[A,E,m]],y=[[o,l,m],[A,E,w]],p=[[o,E,h],[A,c,m]],_=[[o,E,m],[A,c,w]],k=[[A,l,h],[f,E,m]],b=[[A,l,m],[f,E,w]],S=[[A,E,h],[f,c,m]],s=[[A,E,m],[f,c,w]];return[T,y,p,_,k,b,S,s]}function i(a,o,l,h=0){var f=t(a);return f=f.filter(function(c){var w=n(c),x=l(w[0],w[1],w[2],c);return c.dist=x,x<e([w,c[0]])+h}),o==0?f:f.map(function(c){return i(c,o-1,l)}).reduce(function(c,w){return c.concat(w)},[])}function r(a,o,l,h=0){var f=t(a);return f=f.filter(function(c){var w=n(c),x=l(w[0],w[1],w[2],c);return c.dist=x,Math.abs(x)<e([w,c[0]])+h}),o==0?f:f.map(function(c){return r(c,o-1,l)}).reduce(function(c,w){return c.concat(w)},[])}return je={getSubBlocksForBlockIteratedDFunc_edgesOnly:r,getSubBlocksForBlockIteratedDFunc_includeVolume:i},je}var We,It;function ai(){if(It)return We;It=1;var e=ni(),n=ii();function t(a){return Math.log(a)/Math.log(2)%1===0}function i(a,o,l,h=!1){if(!t(a))throw"resolution must be power of 2";var f=Math.floor(Math.log2(a)-1);h&&console.log("marching cubes: getting sub-blocks...");var c=n.getSubBlocksForBlockIteratedDFunc_edgesOnly(l,f,o);h&&console.log(`marching cubes: got ${c.length} sub-blocks.`);var w=e.marchingCubes(o,c,h);return w}function r(a,o,l,h=!1){if(!t(a))throw"resolution must be power of 2";var f=Math.floor(Math.log2(a)-1);h&&console.log("marching cubes: getting sub-blocks...");var c=n.getSubBlocksForBlockIteratedDFunc_edgesOnly(l,f,function(){return 0});h&&console.log(`marching cubes: got ${c.length} sub-blocks.`);var w=e.marchingCubes(o,c,h);return w}return We={getSubBlocksRecursive:n.getSubBlocksForBlockIteratedDFunc_edgesOnly,getSubBlocksRecursiveIncVolume:n.getSubBlocksForBlockIteratedDFunc_includeVolume,marchingCubes:i,marchingCubesVoxelList:e.marchingCubes,marchingCubesSlow:r},We}var ri=ai(),Je={exports:{}},Zt;function fi(){return Zt||(Zt=1,function(e){(function(){function n(o,l){if(l&&l.multiple&&!Array.isArray(o))throw new Error("Invalid argument type: Expected an Array to serialize multiple values.");const h=4294967296;let f,c,w=new Uint8Array(128),x=0;if(l&&l.multiple)for(let s=0;s<o.length;s++)d(o[s]);else d(o);return w.subarray(0,x);function d(s,u){switch(typeof s){case"undefined":v();break;case"boolean":A(s);break;case"number":E(s);break;case"string":m(s);break;case"object":s===null?v():s instanceof Date?_(s):Array.isArray(s)?T(s):s instanceof Uint8Array||s instanceof Uint8ClampedArray?y(s):s instanceof Int8Array||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array?T(s):p(s);break;default:if(!u&&l&&l.invalidTypeReplacement)typeof l.invalidTypeReplacement=="function"?d(l.invalidTypeReplacement(s),!0):d(l.invalidTypeReplacement,!0);else throw new Error("Invalid argument type: The type '"+typeof s+"' cannot be serialized.")}}function v(s){k(192)}function A(s){k(s?195:194)}function E(s){if(isFinite(s)&&Math.floor(s)===s)if(s>=0&&s<=127)k(s);else if(s<0&&s>=-32)k(s);else if(s>0&&s<=255)b([204,s]);else if(s>=-128&&s<=127)b([208,s]);else if(s>0&&s<=65535)b([205,s>>>8,s]);else if(s>=-32768&&s<=32767)b([209,s>>>8,s]);else if(s>0&&s<=4294967295)b([206,s>>>24,s>>>16,s>>>8,s]);else if(s>=-2147483648&&s<=2147483647)b([210,s>>>24,s>>>16,s>>>8,s]);else if(s>0&&s<=18446744073709552e3){let u=s/h,g=s%h;b([211,u>>>24,u>>>16,u>>>8,u,g>>>24,g>>>16,g>>>8,g])}else s>=-9223372036854776e3&&s<=9223372036854776e3?(k(211),S(s)):s<0?b([211,128,0,0,0,0,0,0,0]):b([207,255,255,255,255,255,255,255,255]);else c||(f=new ArrayBuffer(8),c=new DataView(f)),c.setFloat64(0,s),k(203),b(new Uint8Array(f))}function m(s){let u=i(s),g=u.length;g<=31?k(160+g):g<=255?b([217,g]):g<=65535?b([218,g>>>8,g]):b([219,g>>>24,g>>>16,g>>>8,g]),b(u)}function T(s){let u=s.length;u<=15?k(144+u):u<=65535?b([220,u>>>8,u]):b([221,u>>>24,u>>>16,u>>>8,u]);for(let g=0;g<u;g++)d(s[g])}function y(s){let u=s.length;u<=15?b([196,u]):u<=65535?b([197,u>>>8,u]):b([198,u>>>24,u>>>16,u>>>8,u]),b(s)}function p(s){let u=0;for(let g in s)s[g]!==void 0&&u++;u<=15?k(128+u):u<=65535?b([222,u>>>8,u]):b([223,u>>>24,u>>>16,u>>>8,u]);for(let g in s){let L=s[g];L!==void 0&&(d(g),d(L))}}function _(s){let u=s.getTime()/1e3;if(s.getMilliseconds()===0&&u>=0&&u<4294967296)b([214,255,u>>>24,u>>>16,u>>>8,u]);else if(u>=0&&u<17179869184){let g=s.getMilliseconds()*1e6;b([215,255,g>>>22,g>>>14,g>>>6,g<<2>>>0|u/h,u>>>24,u>>>16,u>>>8,u])}else{let g=s.getMilliseconds()*1e6;b([199,12,255,g>>>24,g>>>16,g>>>8,g]),S(u)}}function k(s){if(w.length<x+1){let u=w.length*2;for(;u<x+1;)u*=2;let g=new Uint8Array(u);g.set(w),w=g}w[x]=s,x++}function b(s){if(w.length<x+s.length){let u=w.length*2;for(;u<x+s.length;)u*=2;let g=new Uint8Array(u);g.set(w),w=g}w.set(s,x),x+=s.length}function S(s){let u,g;s>=0?(u=s/h,g=s%h):(s++,u=Math.abs(s)/h,g=Math.abs(s)%h,u=~u,g=~g),b([u>>>24,u>>>16,u>>>8,u,g>>>24,g>>>16,g>>>8,g])}}function t(o,l){let f=0;if(o instanceof ArrayBuffer&&(o=new Uint8Array(o)),typeof o!="object"||typeof o.length>"u")throw new Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!o.length)throw new Error("Invalid argument: The byte array to deserialize is empty.");o instanceof Uint8Array||(o=new Uint8Array(o));let c;if(l&&l.multiple)for(c=[];f<o.length;)c.push(w());else c=w();return c;function w(){const _=o[f++];if(_>=0&&_<=127)return _;if(_>=128&&_<=143)return E(_-128);if(_>=144&&_<=159)return m(_-144);if(_>=160&&_<=191)return T(_-160);if(_===192)return null;if(_===193)throw new Error("Invalid byte code 0xc1 found.");if(_===194)return!1;if(_===195)return!0;if(_===196)return A(-1,1);if(_===197)return A(-1,2);if(_===198)return A(-1,4);if(_===199)return y(-1,1);if(_===200)return y(-1,2);if(_===201)return y(-1,4);if(_===202)return v(4);if(_===203)return v(8);if(_===204)return d(1);if(_===205)return d(2);if(_===206)return d(4);if(_===207)return d(8);if(_===208)return x(1);if(_===209)return x(2);if(_===210)return x(4);if(_===211)return x(8);if(_===212)return y(1);if(_===213)return y(2);if(_===214)return y(4);if(_===215)return y(8);if(_===216)return y(16);if(_===217)return T(-1,1);if(_===218)return T(-1,2);if(_===219)return T(-1,4);if(_===220)return m(-1,2);if(_===221)return m(-1,4);if(_===222)return E(-1,2);if(_===223)return E(-1,4);if(_>=224&&_<=255)return _-256;throw console.debug("msgpack array:",o),new Error("Invalid byte value '"+_+"' at index "+(f-1)+" in the MessagePack binary data (length "+o.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function x(_){let k=0,b=!0;for(;_-- >0;)if(b){let S=o[f++];k+=S&127,S&128&&(k-=128),b=!1}else k*=256,k+=o[f++];return k}function d(_){let k=0;for(;_-- >0;)k*=256,k+=o[f++];return k}function v(_){let k=new DataView(o.buffer,f+o.byteOffset,_);if(f+=_,_===4)return k.getFloat32(0,!1);if(_===8)return k.getFloat64(0,!1)}function A(_,k){_<0&&(_=d(k));let b=o.subarray(f,f+_);return f+=_,b}function E(_,k){_<0&&(_=d(k));let b={};for(;_-- >0;){let S=w();b[S]=w()}return b}function m(_,k){_<0&&(_=d(k));let b=[];for(;_-- >0;)b.push(w());return b}function T(_,k){_<0&&(_=d(k));let b=f;return f+=_,r(o,b,_)}function y(_,k){_<0&&(_=d(k));let b=d(1),S=A(_);switch(b){case 255:return p(S)}return{type:b,data:S}}function p(_){if(_.length===4){let k=(_[0]<<24>>>0)+(_[1]<<16>>>0)+(_[2]<<8>>>0)+_[3];return new Date(k*1e3)}if(_.length===8){let k=(_[0]<<22>>>0)+(_[1]<<14>>>0)+(_[2]<<6>>>0)+(_[3]>>>2),b=(_[3]&3)*4294967296+(_[4]<<24>>>0)+(_[5]<<16>>>0)+(_[6]<<8>>>0)+_[7];return new Date(b*1e3+k/1e6)}if(_.length===12){let k=(_[0]<<24>>>0)+(_[1]<<16>>>0)+(_[2]<<8>>>0)+_[3];f-=8;let b=x(8);return new Date(b*1e3+k/1e6)}throw new Error("Invalid data length for a date value.")}}function i(o){let l=!0,h=o.length;for(let w=0;w<h;w++)if(o.charCodeAt(w)>127){l=!1;break}let f=0,c=new Uint8Array(o.length*(l?1:4));for(let w=0;w!==h;w++){let x=o.charCodeAt(w);if(x<128){c[f++]=x;continue}if(x<2048)c[f++]=x>>6|192;else{if(x>55295&&x<56320){if(++w>=h)throw new Error("UTF-8 encode: incomplete surrogate pair");let d=o.charCodeAt(w);if(d<56320||d>57343)throw new Error("UTF-8 encode: second surrogate character 0x"+d.toString(16)+" at index "+w+" out of range");x=65536+((x&1023)<<10)+(d&1023),c[f++]=x>>18|240,c[f++]=x>>12&63|128}else c[f++]=x>>12|224;c[f++]=x>>6&63|128}c[f++]=x&63|128}return l?c:c.subarray(0,f)}function r(o,l,h){let f=l,c="";for(h+=l;f<h;){let w=o[f++];if(w>127)if(w>191&&w<224){if(f>=h)throw new Error("UTF-8 decode: incomplete 2-byte sequence");w=(w&31)<<6|o[f++]&63}else if(w>223&&w<240){if(f+1>=h)throw new Error("UTF-8 decode: incomplete 3-byte sequence");w=(w&15)<<12|(o[f++]&63)<<6|o[f++]&63}else if(w>239&&w<248){if(f+2>=h)throw new Error("UTF-8 decode: incomplete 4-byte sequence");w=(w&7)<<18|(o[f++]&63)<<12|(o[f++]&63)<<6|o[f++]&63}else throw new Error("UTF-8 decode: unknown multibyte start 0x"+w.toString(16)+" at index "+(f-1));if(w<=65535)c+=String.fromCharCode(w);else if(w<=1114111)w-=65536,c+=String.fromCharCode(w>>10|55296),c+=String.fromCharCode(w&1023|56320);else throw new Error("UTF-8 decode: code point 0x"+w.toString(16)+" exceeds UTF-16 reach")}return c}let a={serialize:n,deserialize:t,encode:n,decode:t};e?e.exports=a:window[window.msgpackJsName||"msgpack"]=a})()}(Je)),Je.exports}var li=fi();/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const oi=4,Ft=0,Ut=1,ci=2;function oe(e){let n=e.length;for(;--n>=0;)e[n]=0}const _i=0,Ct=1,si=2,hi=3,di=258,Qe=29,we=256,be=we+1+Qe,ce=30,et=19,Ot=2*be+1,Q=15,tt=16,ui=7,nt=256,Lt=16,Nt=17,Mt=18,it=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ce=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),xi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),$t=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wi=512,X=new Array((be+2)*2);oe(X);const ge=new Array(ce*2);oe(ge);const pe=new Array(wi);oe(pe);const ve=new Array(di-hi+1);oe(ve);const at=new Array(Qe);oe(at);const Oe=new Array(ce);oe(Oe);function rt(e,n,t,i,r){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let Bt,Ht,Kt;function ft(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const Xt=e=>e<256?pe[e]:pe[256+(e>>>7)],ke=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},U=(e,n,t)=>{e.bi_valid>tt-t?(e.bi_buf|=n<<e.bi_valid&65535,ke(e,e.bi_buf),e.bi_buf=n>>tt-e.bi_valid,e.bi_valid+=t-tt):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},$=(e,n,t)=>{U(e,t[n*2],t[n*2+1])},Yt=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},bi=e=>{e.bi_valid===16?(ke(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},gi=(e,n)=>{const t=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,a=n.stat_desc.has_stree,o=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,h=n.stat_desc.max_length;let f,c,w,x,d,v,A=0;for(x=0;x<=Q;x++)e.bl_count[x]=0;for(t[e.heap[e.heap_max]*2+1]=0,f=e.heap_max+1;f<Ot;f++)c=e.heap[f],x=t[t[c*2+1]*2+1]+1,x>h&&(x=h,A++),t[c*2+1]=x,!(c>i)&&(e.bl_count[x]++,d=0,c>=l&&(d=o[c-l]),v=t[c*2],e.opt_len+=v*(x+d),a&&(e.static_len+=v*(r[c*2+1]+d)));if(A!==0){do{for(x=h-1;e.bl_count[x]===0;)x--;e.bl_count[x]--,e.bl_count[x+1]+=2,e.bl_count[h]--,A-=2}while(A>0);for(x=h;x!==0;x--)for(c=e.bl_count[x];c!==0;)w=e.heap[--f],!(w>i)&&(t[w*2+1]!==x&&(e.opt_len+=(x-t[w*2+1])*t[w*2],t[w*2+1]=x),c--)}},Pt=(e,n,t)=>{const i=new Array(Q+1);let r=0,a,o;for(a=1;a<=Q;a++)r=r+t[a-1]<<1,i[a]=r;for(o=0;o<=n;o++){let l=e[o*2+1];l!==0&&(e[o*2]=Yt(i[l]++,l))}},pi=()=>{let e,n,t,i,r;const a=new Array(Q+1);for(t=0,i=0;i<Qe-1;i++)for(at[i]=t,e=0;e<1<<it[i];e++)ve[t++]=i;for(ve[t-1]=i,r=0,i=0;i<16;i++)for(Oe[i]=r,e=0;e<1<<Ce[i];e++)pe[r++]=i;for(r>>=7;i<ce;i++)for(Oe[i]=r<<7,e=0;e<1<<Ce[i]-7;e++)pe[256+r++]=i;for(n=0;n<=Q;n++)a[n]=0;for(e=0;e<=143;)X[e*2+1]=8,e++,a[8]++;for(;e<=255;)X[e*2+1]=9,e++,a[9]++;for(;e<=279;)X[e*2+1]=7,e++,a[7]++;for(;e<=287;)X[e*2+1]=8,e++,a[8]++;for(Pt(X,be+1,a),e=0;e<ce;e++)ge[e*2+1]=5,ge[e*2]=Yt(e,5);Bt=new rt(X,it,we+1,be,Q),Ht=new rt(ge,Ce,0,ce,Q),Kt=new rt(new Array(0),xi,0,et,ui)},Gt=e=>{let n;for(n=0;n<be;n++)e.dyn_ltree[n*2]=0;for(n=0;n<ce;n++)e.dyn_dtree[n*2]=0;for(n=0;n<et;n++)e.bl_tree[n*2]=0;e.dyn_ltree[nt*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Vt=e=>{e.bi_valid>8?ke(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},qt=(e,n,t,i)=>{const r=n*2,a=t*2;return e[r]<e[a]||e[r]===e[a]&&i[n]<=i[t]},lt=(e,n,t)=>{const i=e.heap[t];let r=t<<1;for(;r<=e.heap_len&&(r<e.heap_len&&qt(n,e.heap[r+1],e.heap[r],e.depth)&&r++,!qt(n,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i},jt=(e,n,t)=>{let i,r,a=0,o,l;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+a++]&255,i+=(e.pending_buf[e.sym_buf+a++]&255)<<8,r=e.pending_buf[e.sym_buf+a++],i===0?$(e,r,n):(o=ve[r],$(e,o+we+1,n),l=it[o],l!==0&&(r-=at[o],U(e,r,l)),i--,o=Xt(i),$(e,o,t),l=Ce[o],l!==0&&(i-=Oe[o],U(e,i,l)));while(a<e.sym_next);$(e,nt,n)},ot=(e,n)=>{const t=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,a=n.stat_desc.elems;let o,l,h=-1,f;for(e.heap_len=0,e.heap_max=Ot,o=0;o<a;o++)t[o*2]!==0?(e.heap[++e.heap_len]=h=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)f=e.heap[++e.heap_len]=h<2?++h:0,t[f*2]=1,e.depth[f]=0,e.opt_len--,r&&(e.static_len-=i[f*2+1]);for(n.max_code=h,o=e.heap_len>>1;o>=1;o--)lt(e,t,o);f=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],lt(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,t[f*2]=t[o*2]+t[l*2],e.depth[f]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,t[o*2+1]=t[l*2+1]=f,e.heap[1]=f++,lt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gi(e,n),Pt(t,h,e.bl_count)},Wt=(e,n,t)=>{let i,r=-1,a,o=n[0*2+1],l=0,h=7,f=4;for(o===0&&(h=138,f=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)a=o,o=n[(i+1)*2+1],!(++l<h&&a===o)&&(l<f?e.bl_tree[a*2]+=l:a!==0?(a!==r&&e.bl_tree[a*2]++,e.bl_tree[Lt*2]++):l<=10?e.bl_tree[Nt*2]++:e.bl_tree[Mt*2]++,l=0,r=a,o===0?(h=138,f=3):a===o?(h=6,f=3):(h=7,f=4))},Jt=(e,n,t)=>{let i,r=-1,a,o=n[0*2+1],l=0,h=7,f=4;for(o===0&&(h=138,f=3),i=0;i<=t;i++)if(a=o,o=n[(i+1)*2+1],!(++l<h&&a===o)){if(l<f)do $(e,a,e.bl_tree);while(--l!==0);else a!==0?(a!==r&&($(e,a,e.bl_tree),l--),$(e,Lt,e.bl_tree),U(e,l-3,2)):l<=10?($(e,Nt,e.bl_tree),U(e,l-3,3)):($(e,Mt,e.bl_tree),U(e,l-11,7));l=0,r=a,o===0?(h=138,f=3):a===o?(h=6,f=3):(h=7,f=4)}},vi=e=>{let n;for(Wt(e,e.dyn_ltree,e.l_desc.max_code),Wt(e,e.dyn_dtree,e.d_desc.max_code),ot(e,e.bl_desc),n=et-1;n>=3&&e.bl_tree[$t[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},ki=(e,n,t,i)=>{let r;for(U(e,n-257,5),U(e,t-1,5),U(e,i-4,4),r=0;r<i;r++)U(e,e.bl_tree[$t[r]*2+1],3);Jt(e,e.dyn_ltree,n-1),Jt(e,e.dyn_dtree,t-1)},mi=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return Ft;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ut;for(t=32;t<we;t++)if(e.dyn_ltree[t*2]!==0)return Ut;return Ft};let Qt=!1;const yi=e=>{Qt||(pi(),Qt=!0),e.l_desc=new ft(e.dyn_ltree,Bt),e.d_desc=new ft(e.dyn_dtree,Ht),e.bl_desc=new ft(e.bl_tree,Kt),e.bi_buf=0,e.bi_valid=0,Gt(e)},en=(e,n,t,i)=>{U(e,(_i<<1)+(i?1:0),3),Vt(e),ke(e,t),ke(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},Ei=e=>{U(e,Ct<<1,3),$(e,nt,X),bi(e)},Ai=(e,n,t,i)=>{let r,a,o=0;e.level>0?(e.strm.data_type===ci&&(e.strm.data_type=mi(e)),ot(e,e.l_desc),ot(e,e.d_desc),o=vi(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=t+5,t+4<=r&&n!==-1?en(e,n,t,i):e.strategy===oi||a===r?(U(e,(Ct<<1)+(i?1:0),3),jt(e,X,ge)):(U(e,(si<<1)+(i?1:0),3),ki(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),jt(e,e.dyn_ltree,e.dyn_dtree)),Gt(e),i&&Vt(e)},Si=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(ve[t]+we+1)*2]++,e.dyn_dtree[Xt(n)*2]++),e.sym_next===e.sym_end);var Ti=yi,zi=en,Di=Ai,Ri=Si,Ii=Ei,Zi={_tr_init:Ti,_tr_stored_block:zi,_tr_flush_block:Di,_tr_tally:Ri,_tr_align:Ii},me=(e,n,t,i)=>{let r=e&65535|0,a=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do r=r+n[i++]|0,a=a+r|0;while(--o);r%=65521,a%=65521}return r|a<<16|0};const Fi=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},Ui=new Uint32Array(Fi());var I=(e,n,t,i)=>{const r=Ui,a=i+t;e^=-1;for(let o=i;o<a;o++)e=e>>>8^r[(e^n[o])&255];return e^-1},ee={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ye={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ci,_tr_stored_block:ct,_tr_flush_block:Oi,_tr_tally:V,_tr_align:Li}=Zi,{Z_NO_FLUSH:q,Z_PARTIAL_FLUSH:Ni,Z_FULL_FLUSH:Mi,Z_FINISH:N,Z_BLOCK:tn,Z_OK:Z,Z_STREAM_END:nn,Z_STREAM_ERROR:B,Z_DATA_ERROR:$i,Z_BUF_ERROR:_t,Z_DEFAULT_COMPRESSION:Bi,Z_FILTERED:Hi,Z_HUFFMAN_ONLY:Le,Z_RLE:Ki,Z_FIXED:Xi,Z_DEFAULT_STRATEGY:Yi,Z_UNKNOWN:Pi,Z_DEFLATED:Ne}=ye,Gi=9,Vi=15,qi=8,st=256+1+29,ji=30,Wi=19,Ji=2*st+1,Qi=15,z=3,j=258,H=j+z+1,e0=32,_e=42,ht=57,dt=69,ut=73,xt=91,wt=103,te=113,Ee=666,F=1,se=2,ne=3,he=4,t0=3,ie=(e,n)=>(e.msg=ee[n],n),an=e=>e*2-(e>4?9:0),W=e=>{let n=e.length;for(;--n>=0;)e[n]=0},n0=e=>{let n,t,i,r=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=r?t-r:0;while(--n);n=r,i=n;do t=e.prev[--i],e.prev[i]=t>=r?t-r:0;while(--n)};let J=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask;const C=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},O=(e,n)=>{Oi(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,C(e.strm)},D=(e,n)=>{e.pending_buf[e.pending++]=n},Ae=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},bt=(e,n,t,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,n.set(e.input.subarray(e.next_in,e.next_in+r),t),e.state.wrap===1?e.adler=me(e.adler,n,r,t):e.state.wrap===2&&(e.adler=I(e.adler,n,r,t)),e.next_in+=r,e.total_in+=r,r)},rn=(e,n)=>{let t=e.max_chain_length,i=e.strstart,r,a,o=e.prev_length,l=e.nice_match;const h=e.strstart>e.w_size-H?e.strstart-(e.w_size-H):0,f=e.window,c=e.w_mask,w=e.prev,x=e.strstart+j;let d=f[i+o-1],v=f[i+o];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(r=n,!(f[r+o]!==v||f[r+o-1]!==d||f[r]!==f[i]||f[++r]!==f[i+1])){i+=2,r++;do;while(f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&i<x);if(a=j-(x-i),i=x-j,a>o){if(e.match_start=n,o=a,a>=l)break;d=f[i+o-1],v=f[i+o]}}while((n=w[n&c])>h&&--t!==0);return o<=e.lookahead?o:e.lookahead},de=e=>{const n=e.w_size;let t,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-H)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),n0(e),i+=n),e.strm.avail_in===0)break;if(t=bt(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=z)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=J(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=J(e,e.ins_h,e.window[r+z-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<z)););}while(e.lookahead<H&&e.strm.avail_in!==0)},fn=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,r,a,o=0,l=e.strm.avail_in;do{if(i=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,r=e.strstart-e.block_start,i>r+e.strm.avail_in&&(i=r+e.strm.avail_in),i>a&&(i=a),i<t&&(i===0&&n!==N||n===q||i!==r+e.strm.avail_in)))break;o=n===N&&i===r+e.strm.avail_in?1:0,ct(e,0,0,o),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,C(e.strm),r&&(r>i&&(r=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,i-=r),i&&(bt(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?he:n!==q&&n!==N&&e.strm.avail_in===0&&e.strstart===e.block_start?se:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(bt(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=t||(r||n===N)&&n!==q&&e.strm.avail_in===0&&r<=a)&&(i=r>a?a:r,o=n===N&&e.strm.avail_in===0&&i===r?1:0,ct(e,e.block_start,i,o),e.block_start+=i,C(e.strm)),o?ne:F)},gt=(e,n)=>{let t,i;for(;;){if(e.lookahead<H){if(de(e),e.lookahead<H&&n===q)return F;if(e.lookahead===0)break}if(t=0,e.lookahead>=z&&(e.ins_h=J(e,e.ins_h,e.window[e.strstart+z-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-H&&(e.match_length=rn(e,t)),e.match_length>=z)if(i=V(e,e.strstart-e.match_start,e.match_length-z),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=z){e.match_length--;do e.strstart++,e.ins_h=J(e,e.ins_h,e.window[e.strstart+z-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=J(e,e.ins_h,e.window[e.strstart+1]);else i=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(O(e,!1),e.strm.avail_out===0))return F}return e.insert=e.strstart<z-1?e.strstart:z-1,n===N?(O(e,!0),e.strm.avail_out===0?ne:he):e.sym_next&&(O(e,!1),e.strm.avail_out===0)?F:se},ue=(e,n)=>{let t,i,r;for(;;){if(e.lookahead<H){if(de(e),e.lookahead<H&&n===q)return F;if(e.lookahead===0)break}if(t=0,e.lookahead>=z&&(e.ins_h=J(e,e.ins_h,e.window[e.strstart+z-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=z-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-H&&(e.match_length=rn(e,t),e.match_length<=5&&(e.strategy===Hi||e.match_length===z&&e.strstart-e.match_start>4096)&&(e.match_length=z-1)),e.prev_length>=z&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-z,i=V(e,e.strstart-1-e.prev_match,e.prev_length-z),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=J(e,e.ins_h,e.window[e.strstart+z-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=z-1,e.strstart++,i&&(O(e,!1),e.strm.avail_out===0))return F}else if(e.match_available){if(i=V(e,0,e.window[e.strstart-1]),i&&O(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return F}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=V(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<z-1?e.strstart:z-1,n===N?(O(e,!0),e.strm.avail_out===0?ne:he):e.sym_next&&(O(e,!1),e.strm.avail_out===0)?F:se},i0=(e,n)=>{let t,i,r,a;const o=e.window;for(;;){if(e.lookahead<=j){if(de(e),e.lookahead<=j&&n===q)return F;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=z&&e.strstart>0&&(r=e.strstart-1,i=o[r],i===o[++r]&&i===o[++r]&&i===o[++r])){a=e.strstart+j;do;while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<a);e.match_length=j-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=z?(t=V(e,1,e.match_length-z),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(O(e,!1),e.strm.avail_out===0))return F}return e.insert=0,n===N?(O(e,!0),e.strm.avail_out===0?ne:he):e.sym_next&&(O(e,!1),e.strm.avail_out===0)?F:se},a0=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(de(e),e.lookahead===0)){if(n===q)return F;break}if(e.match_length=0,t=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(O(e,!1),e.strm.avail_out===0))return F}return e.insert=0,n===N?(O(e,!0),e.strm.avail_out===0?ne:he):e.sym_next&&(O(e,!1),e.strm.avail_out===0)?F:se};function K(e,n,t,i,r){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=r}const Se=[new K(0,0,0,0,fn),new K(4,4,8,4,gt),new K(4,5,16,8,gt),new K(4,6,32,32,gt),new K(4,4,16,16,ue),new K(8,16,32,32,ue),new K(8,16,128,128,ue),new K(8,32,128,256,ue),new K(32,128,258,1024,ue),new K(32,258,258,4096,ue)],r0=e=>{e.window_size=2*e.w_size,W(e.head),e.max_lazy_match=Se[e.level].max_lazy,e.good_match=Se[e.level].good_length,e.nice_match=Se[e.level].nice_length,e.max_chain_length=Se[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=z-1,e.match_available=0,e.ins_h=0};function f0(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ne,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Ji*2),this.dyn_dtree=new Uint16Array((2*ji+1)*2),this.bl_tree=new Uint16Array((2*Wi+1)*2),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Qi+1),this.heap=new Uint16Array(2*st+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*st+1),W(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Te=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==_e&&n.status!==ht&&n.status!==dt&&n.status!==ut&&n.status!==xt&&n.status!==wt&&n.status!==te&&n.status!==Ee?1:0},ln=e=>{if(Te(e))return ie(e,B);e.total_in=e.total_out=0,e.data_type=Pi;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?ht:n.wrap?_e:te,e.adler=n.wrap===2?0:1,n.last_flush=-2,Ci(n),Z},on=e=>{const n=ln(e);return n===Z&&r0(e.state),n},l0=(e,n)=>Te(e)||e.state.wrap!==2?B:(e.state.gzhead=n,Z),cn=(e,n,t,i,r,a)=>{if(!e)return B;let o=1;if(n===Bi&&(n=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>Gi||t!==Ne||i<8||i>15||n<0||n>9||a<0||a>Xi||i===8&&o!==1)return ie(e,B);i===8&&(i=9);const l=new f0;return e.state=l,l.strm=e,l.status=_e,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+z-1)/z),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=n,l.strategy=a,l.method=t,on(e)},o0=(e,n)=>cn(e,n,Ne,Vi,qi,Yi),c0=(e,n)=>{if(Te(e)||n>tn||n<0)return e?ie(e,B):B;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Ee&&n!==N)return ie(e,e.avail_out===0?_t:B);const i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(C(e),e.avail_out===0)return t.last_flush=-1,Z}else if(e.avail_in===0&&an(n)<=an(i)&&n!==N)return ie(e,_t);if(t.status===Ee&&e.avail_in!==0)return ie(e,_t);if(t.status===_e&&t.wrap===0&&(t.status=te),t.status===_e){let r=Ne+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=Le||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,r|=a<<6,t.strstart!==0&&(r|=e0),r+=31-r%31,Ae(t,r),t.strstart!==0&&(Ae(t,e.adler>>>16),Ae(t,e.adler&65535)),e.adler=1,t.status=te,C(e),t.pending!==0)return t.last_flush=-1,Z}if(t.status===ht){if(e.adler=0,D(t,31),D(t,139),D(t,8),t.gzhead)D(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),D(t,t.gzhead.time&255),D(t,t.gzhead.time>>8&255),D(t,t.gzhead.time>>16&255),D(t,t.gzhead.time>>24&255),D(t,t.level===9?2:t.strategy>=Le||t.level<2?4:0),D(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(D(t,t.gzhead.extra.length&255),D(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=I(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=dt;else if(D(t,0),D(t,0),D(t,0),D(t,0),D(t,0),D(t,t.level===9?2:t.strategy>=Le||t.level<2?4:0),D(t,t0),t.status=te,C(e),t.pending!==0)return t.last_flush=-1,Z}if(t.status===dt){if(t.gzhead.extra){let r=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=l,C(e),t.pending!==0)return t.last_flush=-1,Z;r=0,a-=l}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=ut}if(t.status===ut){if(t.gzhead.name){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),C(e),t.pending!==0)return t.last_flush=-1,Z;r=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,D(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=xt}if(t.status===xt){if(t.gzhead.comment){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),C(e),t.pending!==0)return t.last_flush=-1,Z;r=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,D(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r))}t.status=wt}if(t.status===wt){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(C(e),t.pending!==0))return t.last_flush=-1,Z;D(t,e.adler&255),D(t,e.adler>>8&255),e.adler=0}if(t.status=te,C(e),t.pending!==0)return t.last_flush=-1,Z}if(e.avail_in!==0||t.lookahead!==0||n!==q&&t.status!==Ee){let r=t.level===0?fn(t,n):t.strategy===Le?a0(t,n):t.strategy===Ki?i0(t,n):Se[t.level].func(t,n);if((r===ne||r===he)&&(t.status=Ee),r===F||r===ne)return e.avail_out===0&&(t.last_flush=-1),Z;if(r===se&&(n===Ni?Li(t):n!==tn&&(ct(t,0,0,!1),n===Mi&&(W(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),C(e),e.avail_out===0))return t.last_flush=-1,Z}return n!==N?Z:t.wrap<=0?nn:(t.wrap===2?(D(t,e.adler&255),D(t,e.adler>>8&255),D(t,e.adler>>16&255),D(t,e.adler>>24&255),D(t,e.total_in&255),D(t,e.total_in>>8&255),D(t,e.total_in>>16&255),D(t,e.total_in>>24&255)):(Ae(t,e.adler>>>16),Ae(t,e.adler&65535)),C(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Z:nn)},_0=e=>{if(Te(e))return B;const n=e.state.status;return e.state=null,n===te?ie(e,$i):Z},s0=(e,n)=>{let t=n.length;if(Te(e))return B;const i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==_e||i.lookahead)return B;if(r===1&&(e.adler=me(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){r===0&&(W(i.head),i.strstart=0,i.block_start=0,i.insert=0);let h=new Uint8Array(i.w_size);h.set(n.subarray(t-i.w_size,t),0),n=h,t=i.w_size}const a=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,de(i);i.lookahead>=z;){let h=i.strstart,f=i.lookahead-(z-1);do i.ins_h=J(i,i.ins_h,i.window[h+z-1]),i.prev[h&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=h,h++;while(--f);i.strstart=h,i.lookahead=z-1,de(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=z-1,i.match_available=0,e.next_in=o,e.input=l,e.avail_in=a,i.wrap=r,Z};var h0=o0,d0=cn,u0=on,x0=ln,w0=l0,b0=c0,g0=_0,p0=s0,v0="pako deflate (from Nodeca project)",ze={deflateInit:h0,deflateInit2:d0,deflateReset:u0,deflateResetKeep:x0,deflateSetHeader:w0,deflate:b0,deflateEnd:g0,deflateSetDictionary:p0,deflateInfo:v0};const k0=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var m0=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)k0(t,i)&&(e[i]=t[i])}}return e},y0=e=>{let n=0;for(let i=0,r=e.length;i<r;i++)n+=e[i].length;const t=new Uint8Array(n);for(let i=0,r=0,a=e.length;i<a;i++){let o=e[i];t.set(o,r),r+=o.length}return t},Me={assign:m0,flattenChunks:y0};let _n=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_n=!1}const De=new Uint8Array(256);for(let e=0;e<256;e++)De[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;De[254]=De[254]=1;var E0=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,r,a,o=e.length,l=0;for(r=0;r<o;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(l),a=0,r=0;a<l;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n};const A0=(e,n)=>{if(n<65534&&e.subarray&&_n)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t};var S0=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,r;const a=new Array(t*2);for(r=0,i=0;i<t;){let o=e[i++];if(o<128){a[r++]=o;continue}let l=De[o];if(l>4){a[r++]=65533,i+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&i<t;)o=o<<6|e[i++]&63,l--;if(l>1){a[r++]=65533;continue}o<65536?a[r++]=o:(o-=65536,a[r++]=55296|o>>10&1023,a[r++]=56320|o&1023)}return A0(a,r)},T0=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+De[e[t]]>n?t:n},Re={string2buf:E0,buf2string:S0,utf8border:T0};function z0(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var sn=z0;const hn=Object.prototype.toString,{Z_NO_FLUSH:D0,Z_SYNC_FLUSH:R0,Z_FULL_FLUSH:I0,Z_FINISH:Z0,Z_OK:$e,Z_STREAM_END:F0,Z_DEFAULT_COMPRESSION:U0,Z_DEFAULT_STRATEGY:C0,Z_DEFLATED:O0}=ye;function Ie(e){this.options=Me.assign({level:U0,method:O0,chunkSize:16384,windowBits:15,memLevel:8,strategy:C0},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sn,this.strm.avail_out=0;let t=ze.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==$e)throw new Error(ee[t]);if(n.header&&ze.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=Re.string2buf(n.dictionary):hn.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=ze.deflateSetDictionary(this.strm,i),t!==$e)throw new Error(ee[t]);this._dict_set=!0}}Ie.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize;let r,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?Z0:D0,typeof e=="string"?t.input=Re.string2buf(e):hn.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(a===R0||a===I0)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=ze.deflate(t,a),r===F0)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=ze.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===$e;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0},Ie.prototype.onData=function(e){this.chunks.push(e)},Ie.prototype.onEnd=function(e){e===$e&&(this.result=Me.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function pt(e,n){const t=new Ie(n);if(t.push(e,!0),t.err)throw t.msg||ee[t.err];return t.result}function L0(e,n){return n=n||{},n.raw=!0,pt(e,n)}function N0(e,n){return n=n||{},n.gzip=!0,pt(e,n)}var M0=Ie,$0=pt,B0=L0,H0=N0,K0={Deflate:M0,deflate:$0,deflateRaw:B0,gzip:H0};const Be=16209,X0=16191;var Y0=function(n,t){let i,r,a,o,l,h,f,c,w,x,d,v,A,E,m,T,y,p,_,k,b,S,s,u;const g=n.state;i=n.next_in,s=n.input,r=i+(n.avail_in-5),a=n.next_out,u=n.output,o=a-(t-n.avail_out),l=a+(n.avail_out-257),h=g.dmax,f=g.wsize,c=g.whave,w=g.wnext,x=g.window,d=g.hold,v=g.bits,A=g.lencode,E=g.distcode,m=(1<<g.lenbits)-1,T=(1<<g.distbits)-1;e:do{v<15&&(d+=s[i++]<<v,v+=8,d+=s[i++]<<v,v+=8),y=A[d&m];t:for(;;){if(p=y>>>24,d>>>=p,v-=p,p=y>>>16&255,p===0)u[a++]=y&65535;else if(p&16){_=y&65535,p&=15,p&&(v<p&&(d+=s[i++]<<v,v+=8),_+=d&(1<<p)-1,d>>>=p,v-=p),v<15&&(d+=s[i++]<<v,v+=8,d+=s[i++]<<v,v+=8),y=E[d&T];n:for(;;){if(p=y>>>24,d>>>=p,v-=p,p=y>>>16&255,p&16){if(k=y&65535,p&=15,v<p&&(d+=s[i++]<<v,v+=8,v<p&&(d+=s[i++]<<v,v+=8)),k+=d&(1<<p)-1,k>h){n.msg="invalid distance too far back",g.mode=Be;break e}if(d>>>=p,v-=p,p=a-o,k>p){if(p=k-p,p>c&&g.sane){n.msg="invalid distance too far back",g.mode=Be;break e}if(b=0,S=x,w===0){if(b+=f-p,p<_){_-=p;do u[a++]=x[b++];while(--p);b=a-k,S=u}}else if(w<p){if(b+=f+w-p,p-=w,p<_){_-=p;do u[a++]=x[b++];while(--p);if(b=0,w<_){p=w,_-=p;do u[a++]=x[b++];while(--p);b=a-k,S=u}}}else if(b+=w-p,p<_){_-=p;do u[a++]=x[b++];while(--p);b=a-k,S=u}for(;_>2;)u[a++]=S[b++],u[a++]=S[b++],u[a++]=S[b++],_-=3;_&&(u[a++]=S[b++],_>1&&(u[a++]=S[b++]))}else{b=a-k;do u[a++]=u[b++],u[a++]=u[b++],u[a++]=u[b++],_-=3;while(_>2);_&&(u[a++]=u[b++],_>1&&(u[a++]=u[b++]))}}else if((p&64)===0){y=E[(y&65535)+(d&(1<<p)-1)];continue n}else{n.msg="invalid distance code",g.mode=Be;break e}break}}else if((p&64)===0){y=A[(y&65535)+(d&(1<<p)-1)];continue t}else if(p&32){g.mode=X0;break e}else{n.msg="invalid literal/length code",g.mode=Be;break e}break}}while(i<r&&a<l);_=v>>3,i-=_,v-=_<<3,d&=(1<<v)-1,n.next_in=i,n.next_out=a,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=a<l?257+(l-a):257-(a-l),g.hold=d,g.bits=v};const xe=15,dn=852,un=592,xn=0,vt=1,wn=2,P0=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),G0=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),V0=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),q0=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ze=(e,n,t,i,r,a,o,l)=>{const h=l.bits;let f=0,c=0,w=0,x=0,d=0,v=0,A=0,E=0,m=0,T=0,y,p,_,k,b,S=null,s;const u=new Uint16Array(xe+1),g=new Uint16Array(xe+1);let L=null,Ge,fe,le;for(f=0;f<=xe;f++)u[f]=0;for(c=0;c<i;c++)u[n[t+c]]++;for(d=h,x=xe;x>=1&&u[x]===0;x--);if(d>x&&(d=x),x===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,l.bits=1,0;for(w=1;w<x&&u[w]===0;w++);for(d<w&&(d=w),E=1,f=1;f<=xe;f++)if(E<<=1,E-=u[f],E<0)return-1;if(E>0&&(e===xn||x!==1))return-1;for(g[1]=0,f=1;f<xe;f++)g[f+1]=g[f]+u[f];for(c=0;c<i;c++)n[t+c]!==0&&(o[g[n[t+c]]++]=c);if(e===xn?(S=L=o,s=20):e===vt?(S=P0,L=G0,s=257):(S=V0,L=q0,s=0),T=0,c=0,f=w,b=a,v=d,A=0,_=-1,m=1<<d,k=m-1,e===vt&&m>dn||e===wn&&m>un)return 1;for(;;){Ge=f-A,o[c]+1<s?(fe=0,le=o[c]):o[c]>=s?(fe=L[o[c]-s],le=S[o[c]-s]):(fe=96,le=0),y=1<<f-A,p=1<<v,w=p;do p-=y,r[b+(T>>A)+p]=Ge<<24|fe<<16|le|0;while(p!==0);for(y=1<<f-1;T&y;)y>>=1;if(y!==0?(T&=y-1,T+=y):T=0,c++,--u[f]===0){if(f===x)break;f=n[t+o[c]]}if(f>d&&(T&k)!==_){for(A===0&&(A=d),b+=w,v=f-A,E=1<<v;v+A<x&&(E-=u[v+A],!(E<=0));)v++,E<<=1;if(m+=1<<v,e===vt&&m>dn||e===wn&&m>un)return 1;_=T&k,r[_]=d<<24|v<<16|b-a|0}}return T!==0&&(r[b+T]=f-A<<24|64<<16|0),l.bits=d,0};const j0=0,bn=1,gn=2,{Z_FINISH:pn,Z_BLOCK:W0,Z_TREES:He,Z_OK:ae,Z_STREAM_END:J0,Z_NEED_DICT:Q0,Z_STREAM_ERROR:M,Z_DATA_ERROR:vn,Z_MEM_ERROR:kn,Z_BUF_ERROR:ea,Z_DEFLATED:mn}=ye,Ke=16180,yn=16181,En=16182,An=16183,Sn=16184,Tn=16185,zn=16186,Dn=16187,Rn=16188,In=16189,Xe=16190,Y=16191,kt=16192,Zn=16193,mt=16194,Fn=16195,Un=16196,Cn=16197,On=16198,Ye=16199,Pe=16200,Ln=16201,Nn=16202,Mn=16203,$n=16204,Bn=16205,yt=16206,Hn=16207,Kn=16208,R=16209,Xn=16210,Yn=16211,ta=852,na=592,ia=15,Pn=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function aa(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const re=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<Ke||n.mode>Yn?1:0},Gn=e=>{if(re(e))return M;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=Ke,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(ta),n.distcode=n.distdyn=new Int32Array(na),n.sane=1,n.back=-1,ae},Vn=e=>{if(re(e))return M;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,Gn(e)},qn=(e,n)=>{let t;if(re(e))return M;const i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?M:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,Vn(e))},jn=(e,n)=>{if(!e)return M;const t=new aa;e.state=t,t.strm=e,t.window=null,t.mode=Ke;const i=qn(e,n);return i!==ae&&(e.state=null),i},ra=e=>jn(e,ia);let Wn=!0,Et,At;const fa=e=>{if(Wn){Et=new Int32Array(512),At=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Ze(bn,e.lens,0,288,Et,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Ze(gn,e.lens,0,32,At,0,e.work,{bits:5}),Wn=!1}e.lencode=Et,e.lenbits=9,e.distcode=At,e.distbits=5},Jn=(e,n,t,i)=>{let r;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(n.subarray(t-i,t-i+r),a.wnext),i-=r,i?(a.window.set(n.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},la=(e,n)=>{let t,i,r,a,o,l,h,f,c,w,x,d,v,A,E=0,m,T,y,p,_,k,b,S;const s=new Uint8Array(4);let u,g;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(re(e)||!e.output||!e.input&&e.avail_in!==0)return M;t=e.state,t.mode===Y&&(t.mode=kt),o=e.next_out,r=e.output,h=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,f=t.hold,c=t.bits,w=l,x=h,S=ae;e:for(;;)switch(t.mode){case Ke:if(t.wrap===0){t.mode=kt;break}for(;c<16;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,s[0]=f&255,s[1]=f>>>8&255,t.check=I(t.check,s,2,0),f=0,c=0,t.mode=yn;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",t.mode=R;break}if((f&15)!==mn){e.msg="unknown compression method",t.mode=R;break}if(f>>>=4,c-=4,b=(f&15)+8,t.wbits===0&&(t.wbits=b),b>15||b>t.wbits){e.msg="invalid window size",t.mode=R;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=f&512?In:Y,f=0,c=0;break;case yn:for(;c<16;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if(t.flags=f,(t.flags&255)!==mn){e.msg="unknown compression method",t.mode=R;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=R;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(s[0]=f&255,s[1]=f>>>8&255,t.check=I(t.check,s,2,0)),f=0,c=0,t.mode=En;case En:for(;c<32;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(s[0]=f&255,s[1]=f>>>8&255,s[2]=f>>>16&255,s[3]=f>>>24&255,t.check=I(t.check,s,4,0)),f=0,c=0,t.mode=An;case An:for(;c<16;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(s[0]=f&255,s[1]=f>>>8&255,t.check=I(t.check,s,2,0)),f=0,c=0,t.mode=Sn;case Sn:if(t.flags&1024){for(;c<16;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(s[0]=f&255,s[1]=f>>>8&255,t.check=I(t.check,s,2,0)),f=0,c=0}else t.head&&(t.head.extra=null);t.mode=Tn;case Tn:if(t.flags&1024&&(d=t.length,d>l&&(d=l),d&&(t.head&&(b=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+d),b)),t.flags&512&&t.wrap&4&&(t.check=I(t.check,i,d,a)),l-=d,a+=d,t.length-=d),t.length))break e;t.length=0,t.mode=zn;case zn:if(t.flags&2048){if(l===0)break e;d=0;do b=i[a+d++],t.head&&b&&t.length<65536&&(t.head.name+=String.fromCharCode(b));while(b&&d<l);if(t.flags&512&&t.wrap&4&&(t.check=I(t.check,i,d,a)),l-=d,a+=d,b)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Dn;case Dn:if(t.flags&4096){if(l===0)break e;d=0;do b=i[a+d++],t.head&&b&&t.length<65536&&(t.head.comment+=String.fromCharCode(b));while(b&&d<l);if(t.flags&512&&t.wrap&4&&(t.check=I(t.check,i,d,a)),l-=d,a+=d,b)break e}else t.head&&(t.head.comment=null);t.mode=Rn;case Rn:if(t.flags&512){for(;c<16;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if(t.wrap&4&&f!==(t.check&65535)){e.msg="header crc mismatch",t.mode=R;break}f=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Y;break;case In:for(;c<32;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}e.adler=t.check=Pn(f),f=0,c=0,t.mode=Xe;case Xe:if(t.havedict===0)return e.next_out=o,e.avail_out=h,e.next_in=a,e.avail_in=l,t.hold=f,t.bits=c,Q0;e.adler=t.check=1,t.mode=Y;case Y:if(n===W0||n===He)break e;case kt:if(t.last){f>>>=c&7,c-=c&7,t.mode=yt;break}for(;c<3;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}switch(t.last=f&1,f>>>=1,c-=1,f&3){case 0:t.mode=Zn;break;case 1:if(fa(t),t.mode=Ye,n===He){f>>>=2,c-=2;break e}break;case 2:t.mode=Un;break;case 3:e.msg="invalid block type",t.mode=R}f>>>=2,c-=2;break;case Zn:for(f>>>=c&7,c-=c&7;c<32;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",t.mode=R;break}if(t.length=f&65535,f=0,c=0,t.mode=mt,n===He)break e;case mt:t.mode=Fn;case Fn:if(d=t.length,d){if(d>l&&(d=l),d>h&&(d=h),d===0)break e;r.set(i.subarray(a,a+d),o),l-=d,a+=d,h-=d,o+=d,t.length-=d;break}t.mode=Y;break;case Un:for(;c<14;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if(t.nlen=(f&31)+257,f>>>=5,c-=5,t.ndist=(f&31)+1,f>>>=5,c-=5,t.ncode=(f&15)+4,f>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=R;break}t.have=0,t.mode=Cn;case Cn:for(;t.have<t.ncode;){for(;c<3;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}t.lens[L[t.have++]]=f&7,f>>>=3,c-=3}for(;t.have<19;)t.lens[L[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,u={bits:t.lenbits},S=Ze(j0,t.lens,0,19,t.lencode,0,t.work,u),t.lenbits=u.bits,S){e.msg="invalid code lengths set",t.mode=R;break}t.have=0,t.mode=On;case On:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[f&(1<<t.lenbits)-1],m=E>>>24,T=E>>>16&255,y=E&65535,!(m<=c);){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if(y<16)f>>>=m,c-=m,t.lens[t.have++]=y;else{if(y===16){for(g=m+2;c<g;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if(f>>>=m,c-=m,t.have===0){e.msg="invalid bit length repeat",t.mode=R;break}b=t.lens[t.have-1],d=3+(f&3),f>>>=2,c-=2}else if(y===17){for(g=m+3;c<g;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}f>>>=m,c-=m,b=0,d=3+(f&7),f>>>=3,c-=3}else{for(g=m+7;c<g;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}f>>>=m,c-=m,b=0,d=11+(f&127),f>>>=7,c-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=R;break}for(;d--;)t.lens[t.have++]=b}}if(t.mode===R)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=R;break}if(t.lenbits=9,u={bits:t.lenbits},S=Ze(bn,t.lens,0,t.nlen,t.lencode,0,t.work,u),t.lenbits=u.bits,S){e.msg="invalid literal/lengths set",t.mode=R;break}if(t.distbits=6,t.distcode=t.distdyn,u={bits:t.distbits},S=Ze(gn,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,u),t.distbits=u.bits,S){e.msg="invalid distances set",t.mode=R;break}if(t.mode=Ye,n===He)break e;case Ye:t.mode=Pe;case Pe:if(l>=6&&h>=258){e.next_out=o,e.avail_out=h,e.next_in=a,e.avail_in=l,t.hold=f,t.bits=c,Y0(e,x),o=e.next_out,r=e.output,h=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,f=t.hold,c=t.bits,t.mode===Y&&(t.back=-1);break}for(t.back=0;E=t.lencode[f&(1<<t.lenbits)-1],m=E>>>24,T=E>>>16&255,y=E&65535,!(m<=c);){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if(T&&(T&240)===0){for(p=m,_=T,k=y;E=t.lencode[k+((f&(1<<p+_)-1)>>p)],m=E>>>24,T=E>>>16&255,y=E&65535,!(p+m<=c);){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}f>>>=p,c-=p,t.back+=p}if(f>>>=m,c-=m,t.back+=m,t.length=y,T===0){t.mode=Bn;break}if(T&32){t.back=-1,t.mode=Y;break}if(T&64){e.msg="invalid literal/length code",t.mode=R;break}t.extra=T&15,t.mode=Ln;case Ln:if(t.extra){for(g=t.extra;c<g;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Nn;case Nn:for(;E=t.distcode[f&(1<<t.distbits)-1],m=E>>>24,T=E>>>16&255,y=E&65535,!(m<=c);){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if((T&240)===0){for(p=m,_=T,k=y;E=t.distcode[k+((f&(1<<p+_)-1)>>p)],m=E>>>24,T=E>>>16&255,y=E&65535,!(p+m<=c);){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}f>>>=p,c-=p,t.back+=p}if(f>>>=m,c-=m,t.back+=m,T&64){e.msg="invalid distance code",t.mode=R;break}t.offset=y,t.extra=T&15,t.mode=Mn;case Mn:if(t.extra){for(g=t.extra;c<g;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=R;break}t.mode=$n;case $n:if(h===0)break e;if(d=x-h,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=R;break}d>t.wnext?(d-=t.wnext,v=t.wsize-d):v=t.wnext-d,d>t.length&&(d=t.length),A=t.window}else A=r,v=o-t.offset,d=t.length;d>h&&(d=h),h-=d,t.length-=d;do r[o++]=A[v++];while(--d);t.length===0&&(t.mode=Pe);break;case Bn:if(h===0)break e;r[o++]=t.length,h--,t.mode=Pe;break;case yt:if(t.wrap){for(;c<32;){if(l===0)break e;l--,f|=i[a++]<<c,c+=8}if(x-=h,e.total_out+=x,t.total+=x,t.wrap&4&&x&&(e.adler=t.check=t.flags?I(t.check,r,x,o-x):me(t.check,r,x,o-x)),x=h,t.wrap&4&&(t.flags?f:Pn(f))!==t.check){e.msg="incorrect data check",t.mode=R;break}f=0,c=0}t.mode=Hn;case Hn:if(t.wrap&&t.flags){for(;c<32;){if(l===0)break e;l--,f+=i[a++]<<c,c+=8}if(t.wrap&4&&f!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=R;break}f=0,c=0}t.mode=Kn;case Kn:S=J0;break e;case R:S=vn;break e;case Xn:return kn;case Yn:default:return M}return e.next_out=o,e.avail_out=h,e.next_in=a,e.avail_in=l,t.hold=f,t.bits=c,(t.wsize||x!==e.avail_out&&t.mode<R&&(t.mode<yt||n!==pn))&&Jn(e,e.output,e.next_out,x-e.avail_out),w-=e.avail_in,x-=e.avail_out,e.total_in+=w,e.total_out+=x,t.total+=x,t.wrap&4&&x&&(e.adler=t.check=t.flags?I(t.check,r,x,e.next_out-x):me(t.check,r,x,e.next_out-x)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Y?128:0)+(t.mode===Ye||t.mode===mt?256:0),(w===0&&x===0||n===pn)&&S===ae&&(S=ea),S},oa=e=>{if(re(e))return M;let n=e.state;return n.window&&(n.window=null),e.state=null,ae},ca=(e,n)=>{if(re(e))return M;const t=e.state;return(t.wrap&2)===0?M:(t.head=n,n.done=!1,ae)},_a=(e,n)=>{const t=n.length;let i,r,a;return re(e)||(i=e.state,i.wrap!==0&&i.mode!==Xe)?M:i.mode===Xe&&(r=1,r=me(r,n,t,0),r!==i.check)?vn:(a=Jn(e,n,t,t),a?(i.mode=Xn,kn):(i.havedict=1,ae))};var sa=Vn,ha=qn,da=Gn,ua=ra,xa=jn,wa=la,ba=oa,ga=ca,pa=_a,va="pako inflate (from Nodeca project)",P={inflateReset:sa,inflateReset2:ha,inflateResetKeep:da,inflateInit:ua,inflateInit2:xa,inflate:wa,inflateEnd:ba,inflateGetHeader:ga,inflateSetDictionary:pa,inflateInfo:va};function ka(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ma=ka;const Qn=Object.prototype.toString,{Z_NO_FLUSH:ya,Z_FINISH:Ea,Z_OK:Fe,Z_STREAM_END:St,Z_NEED_DICT:Tt,Z_STREAM_ERROR:Aa,Z_DATA_ERROR:ei,Z_MEM_ERROR:Sa}=ye;function Ue(e){this.options=Me.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sn,this.strm.avail_out=0;let t=P.inflateInit2(this.strm,n.windowBits);if(t!==Fe)throw new Error(ee[t]);if(this.header=new ma,P.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Re.string2buf(n.dictionary):Qn.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=P.inflateSetDictionary(this.strm,n.dictionary),t!==Fe)))throw new Error(ee[t])}Ue.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(n===~~n?o=n:o=n===!0?Ea:ya,Qn.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=P.inflate(t,o),a===Tt&&r&&(a=P.inflateSetDictionary(t,r),a===Fe?a=P.inflate(t,o):a===ei&&(a=Tt));t.avail_in>0&&a===St&&t.state.wrap>0&&e[t.next_in]!==0;)P.inflateReset(t),a=P.inflate(t,o);switch(a){case Aa:case ei:case Tt:case Sa:return this.onEnd(a),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||a===St))if(this.options.to==="string"){let h=Re.utf8border(t.output,t.next_out),f=t.next_out-h,c=Re.buf2string(t.output,h);t.next_out=f,t.avail_out=i-f,f&&t.output.set(t.output.subarray(h,h+f),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Fe&&l===0)){if(a===St)return a=P.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0},Ue.prototype.onData=function(e){this.chunks.push(e)},Ue.prototype.onEnd=function(e){e===Fe&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Me.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function zt(e,n){const t=new Ue(n);if(t.push(e),t.err)throw t.msg||ee[t.err];return t.result}function Ta(e,n){return n=n||{},n.raw=!0,zt(e,n)}var za=Ue,Da=zt,Ra=Ta,Ia=zt,Za={Inflate:za,inflate:Da,inflateRaw:Ra,ungzip:Ia};const{Deflate:Fa,deflate:Ua,deflateRaw:Ca,gzip:Oa}=K0,{Inflate:La,inflate:Na,inflateRaw:Ma,ungzip:$a}=Za;var Ba=Fa,Ha=Ua,Ka=Ca,Xa=Oa,Ya=La,Pa=Na,Ga=Ma,Va=$a,qa=ye,ja={Deflate:Ba,deflate:Ha,deflateRaw:Ka,gzip:Xa,Inflate:Ya,inflate:Pa,inflateRaw:Ga,ungzip:Va,constants:qa};function Wa(e,n,t){return function(i,r,a){let o=Math.floor(i),l=Math.floor(r),h=Math.floor(a);return o<0||l<0||h<0||o>=n[0]||l>=n[1]||h>=n[2]?-1:e[h][l][o]-t}}function Ja(e){e=li.decode(e);const{data:n,shape:t,dtype:i}=e,r=ja.inflate(n);let a;switch(i){case"float32":a=Float32Array;break;case"float64":a=Float64Array;break;case"int32":a=Int32Array;break;default:throw new Error(`Unsupported data type: ${i}`)}const o=new a(r.buffer,r.byteOffset,r.byteLength/a.BYTES_PER_ELEMENT);if(t.length===2){const[l,h]=t;if(o.length!==l*h)throw new Error("Data length mismatch for 2D reshape");return Array.from({length:l},(f,c)=>o.slice(c*h,(c+1)*h))}else if(t.length===3){const[l,h,f]=t;if(o.length!==l*h*f)throw new Error("Data length mismatch for 3D reshape");return Array.from({length:l},(c,w)=>Array.from({length:h},(x,d)=>o.slice(w*h*f+d*f,w*h*f+(d+1)*f)))}else throw new Error("Only 2D and 3D arrays are supported")}self.onmessage=function(e){const{data:n,meshShape:t,isovalue:i,resolution:r,scanBounds:a}=e.data,o=Ja(n),l=Wa(o,t,i),h=ri.marchingCubes(r,l,a);self.postMessage({type:"marchingResult",result:h})}})();
